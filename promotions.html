<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–∫—Ü–∏–∏ - Volt Logistics</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .promotions-container {
            max-width: 375px;
            margin: 0 auto;
            padding: 16px;
        }

        .promotions-header {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .promotions-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .promotions-subtitle {
            font-size: 16px;
            color: #999;
            margin-bottom: 20px;
        }

        .promotions-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .promotion-card {
            background-color: #0F0F0F;
            border-radius: 14px;
            overflow: hidden;
            transition: transform 0.15s ease;
            position: relative;
            width: 100%;
            height: 83px;
            margin-bottom: 16px;
            box-shadow: 0 3px 8px rgba(0, 188, 212, 0.29),
                0 14px 14px rgba(0, 188, 212, 0.26),
                0 31px 19px rgba(0, 188, 212, 0.15),
                0 56px 22px rgba(0, 188, 212, 0.04),
                0 87px 24px rgba(0, 188, 212, 0.01);
        }

        .promotion-card:active {
            transform: scale(0.98);
        }

        .promotion-content {
            padding: 16px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }

        .promotion-title {
            font-size: 16px;
            font-weight: 400;
            margin-bottom: 4px;
            font-family: 'TT Runs Trial Regular', sans-serif;
        }

        .promotion-description {
            font-size: 12px;
            color: #ccc;
            margin-bottom: 4px;
            font-family: 'TT Runs Trial Regular', sans-serif;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .promotion-date {
            font-size: 10px;
            color: #00BCD4;
            font-family: 'TT Runs Trial Regular', sans-serif;
        }

        .no-promotions {
            text-align: center;
            padding: 30px 20px;
            background-color: #0F0F0F;
            border-radius: 14px;
            color: #fff;
            font-weight: 700;
            font-size: 16px;
            box-shadow: 0 3px 8px rgba(0, 188, 212, 0.29),
                0 14px 14px rgba(0, 188, 212, 0.26),
                0 31px 19px rgba(0, 188, 212, 0.15),
                0 56px 22px rgba(0, 188, 212, 0.04),
                0 87px 24px rgba(0, 188, 212, 0.01);
        }

        .empty-state {
            position: relative;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-promotion-button {
            background-color: #00BCD4;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .add-promotion-button:hover {
            background-color: #00ACC1;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background-color: #1e1e1e;
            margin: 10% auto;
            padding: 20px;
            border-radius: 20px;
            width: 90%;
            max-width: 350px;
            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }

        .close-button {
            background: none;
            border: none;
            font-size: 24px;
            color: #999;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #ccc;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            background-color: #2e2e2e;
            border: 1px solid #444;
            border-radius: 10px;
            color: white;
            font-size: 14px;
        }

        .form-textarea {
            width: 100%;
            padding: 10px;
            background-color: #2e2e2e;
            border: 1px solid #444;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            min-height: 100px;
            resize: vertical;
        }

        .form-submit {
            background-color: #00BCD4;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .form-submit:hover {
            background-color: #00ACC1;
        }

        .delete-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 59, 48, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .promotion-card:hover .delete-button {
            opacity: 1;
        }

        .manager-mode-toggle {
            background-color: #333;
            color: #ccc;
            border: none;
            border-radius: 10px;
            padding: 8px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: auto;
        }

        .manager-mode-toggle.active {
            background-color: #00BCD4;
            color: white;
        }

        .manager-controls {
            display: none;
        }

        .manager-controls.active {
            display: block;
        }

        /* SVG Back Button Styles */
        .svg-back-button {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: none;
            border: none;
            padding: 0;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
            opacity: 1;
            visibility: visible;
        }

        .svg-back-button.show {
            opacity: 1;
            visibility: visible;
        }

        .svg-back-button:hover {
            transform: translateX(-50%) translateY(-4px);
            filter: brightness(1.1);
        }

        .svg-back-button:active {
            transform: translateX(-50%) translateY(-2px);
        }

        .back-button-svg {
            width: 180px;
            height: auto;
            filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));
            transition: all 0.3s ease;
        }

        .svg-back-button:hover .back-button-svg {
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.5)) brightness(1.1);
        }
    </style>
    <script src="js/common.js"></script>

    </head>

<body>
    <div class="promotions-container">
        <img src="img/promo_table.svg" alt="Volt Logistics –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ü–∏–∏" class="promo-header-image">

        <div class="promotions-header">
            <button id="manager-mode-toggle" class="manager-mode-toggle">–†–µ–∂–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–∞</button>
            <div id="manager-controls" class="manager-controls">
                <button id="add-promotion-button" class="add-promotion-button">+</button>
            </div>
        </div>

        <div class="promotions-list" id="promotions-list">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∞–∫—Ü–∏–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ü–∏–∏ -->
    <div id="promotion-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title">–î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ü–∏—é</h2>
                <button class="close-button" id="close-modal">&times;</button>
            </div>
            <form id="promotion-form">
                <input type="hidden" id="promotion-id">
                <div class="form-group">
                    <label for="promotion-title" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ü–∏–∏</label>
                    <input type="text" id="promotion-title" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="promotion-description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="promotion-description" class="form-textarea" required></textarea>
                </div>
                <div class="form-group">
                    <label for="promotion-image" class="form-label">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                    <input type="text" id="promotion-image" class="form-input"
                        placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label for="promotion-date" class="form-label">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
                    <input type="text" id="promotion-date" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¥–æ 31.12.2025">
                </div>
                <button type="submit" class="form-submit" id="save-promotion">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
    <div class="stylish-back-button" onclick="goBack()">
    </div>

    <script>
        // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–∫—Ü–∏–π (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
        let promotions = [];

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DOM
        const promotionsList = document.getElementById('promotions-list');
        const managerModeToggle = document.getElementById('manager-mode-toggle');
        const managerControls = document.getElementById('manager-controls');
        const addPromotionButton = document.getElementById('add-promotion-button');
        const promotionModal = document.getElementById('promotion-modal');
        const closeModalButton = document.getElementById('close-modal');
        const promotionForm = document.getElementById('promotion-form');
        const modalTitle = document.getElementById('modal-title');
        const promotionIdInput = document.getElementById('promotion-id');
        const promotionTitleInput = document.getElementById('promotion-title');
        const promotionDescriptionInput = document.getElementById('promotion-description');
        const promotionImageInput = document.getElementById('promotion-image');
        const promotionDateInput = document.getElementById('promotion-date');

        // –°–ø–∏—Å–æ–∫ ID –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–∏–∑ Python –±–æ—Ç–∞)
        const managerIds = [
            919034275,   // ID –ø–µ—Ä–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
            372145026,   // ID –≤—Ç–æ—Ä–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
            6432717873   // ID —Ç—Ä–µ—Ç—å–µ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
        ];

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
        function isUserManager() {
            if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initDataUnsafe) {
                const user = window.Telegram.WebApp.initDataUnsafe.user;
                if (user && user.id) {
                    console.log('Current user ID:', user.id);
                    return managerIds.includes(user.id);
                }
            }
            // –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–±–µ–∑ Telegram)
            console.log('Running outside Telegram WebApp - manager mode disabled');
            return false;
        }

        // –§–ª–∞–≥ —Ä–µ–∂–∏–º–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
        let isManagerMode = false;
        const userIsManager = isUserManager();

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∞–∫—Ü–∏–π
        function renderPromotions() {
            promotionsList.innerHTML = '';

            if (promotions.length === 0) {
                if (isManagerMode) {
                    // –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ —Ü–µ–Ω—Ç—Ä—É
                    promotionsList.innerHTML = `
                        <div class="empty-state">
                            <button id="center-add-button" class="add-promotion-button" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">+</button>
                        </div>
                    `;
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∫–Ω–æ–ø–∫–∏
                    document.getElementById('center-add-button').addEventListener('click', () => {
                        modalTitle.textContent = '–î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ü–∏—é';
                        promotionIdInput.value = '';
                        promotionForm.reset();
                        promotionModal.style.display = 'block';
                    });
                } else {
                    // –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                    promotionsList.innerHTML = `
                        <div class="no-promotions">
                            <p style="font-weight: 700;">–¢—É—Ç –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...</p>
                        </div>
                    `;
                }
                return;
            }

            promotions.forEach(promotion => {
                const promotionCard = document.createElement('div');
                promotionCard.className = 'promotion-card';
                promotionCard.setAttribute('data-id', promotion.id);
                promotionCard.onclick = () => showPromotionDetails(promotion.id);

                promotionCard.innerHTML = `
                    ${isManagerMode ? `<button class="delete-button" data-id="${promotion.id}" onclick="deletePromotion(event, ${promotion.id})">√ó</button>` : ''}
                    <div class="promotion-content">
                        <h3 class="promotion-title">${promotion.title}</h3>
                        <p class="promotion-description">${promotion.description}</p>
                        <p class="promotion-date">${promotion.date}</p>
                    </div>
                `;

                promotionsList.appendChild(promotionCard);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∞–∫—Ü–∏–∏
        function showPromotionDetails(id) {
            if (isManagerMode) {
                // –í —Ä–µ–∂–∏–º–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                const promotion = promotions.find(p => p.id === id);
                if (promotion) {
                    modalTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ü–∏—é';
                    promotionIdInput.value = promotion.id;
                    promotionTitleInput.value = promotion.title;
                    promotionDescriptionInput.value = promotion.description;
                    promotionImageInput.value = promotion.image;
                    promotionDateInput.value = promotion.date;
                    promotionModal.style.display = 'block';
                }
            } else {
                // –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –∞–∫—Ü–∏–∏
                console.log(`–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∞–∫—Ü–∏–∏ ${id}`);
                // –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–µ—Ç–∞–ª—è–º–∏
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫—Ü–∏–∏
        function deletePromotion(event, id) {
            event.stopPropagation(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è –∫–ª–∏–∫–∞

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
            if (!userIsManager || !isManagerMode) {
                console.log('Access denied - user is not a manager or not in manager mode');
                return;
            }

            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∞–∫—Ü–∏—é?')) {
                promotions = promotions.filter(promotion => promotion.id !== id);
                renderPromotions();

                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫—Ü–∏–∏
                console.log(`–ê–∫—Ü–∏—è —Å ID ${id} —É–¥–∞–ª–µ–Ω–∞`);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
        managerModeToggle.addEventListener('click', () => {
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            if (!userIsManager) {
                console.log('Access denied - user is not a manager');
                return;
            }
            
            isManagerMode = !isManagerMode;
            managerModeToggle.classList.toggle('active', isManagerMode);
            managerControls.classList.toggle('active', isManagerMode);
            renderPromotions();
            
            console.log('Manager mode toggled:', isManagerMode);
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ü–∏–∏
        addPromotionButton.addEventListener('click', () => {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
            if (!userIsManager || !isManagerMode) {
                console.log('Access denied - user is not a manager or not in manager mode');
                return;
            }
            
            modalTitle.textContent = '–î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ü–∏—é';
            promotionIdInput.value = '';
            promotionForm.reset();
            promotionModal.style.display = 'block';
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        closeModalButton.addEventListener('click', () => {
            promotionModal.style.display = 'none';
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ –æ–±–ª–∞—Å—Ç–∏
        window.addEventListener('click', (event) => {
            if (event.target === promotionModal) {
                promotionModal.style.display = 'none';
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        promotionForm.addEventListener('submit', (event) => {
            event.preventDefault();

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
            if (!userIsManager || !isManagerMode) {
                console.log('Access denied - user is not a manager or not in manager mode');
                promotionModal.style.display = 'none';
                return;
            }

            const id = promotionIdInput.value ? parseInt(promotionIdInput.value) : Date.now();
            const title = promotionTitleInput.value;
            const description = promotionDescriptionInput.value;
            const image = promotionImageInput.value || `https://via.placeholder.com/375x160/00BCD4/FFFFFF?text=${encodeURIComponent(title)}`;
            const date = promotionDateInput.value || '–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∞–∫—Ü–∏—è';

            if (promotionIdInput.value) {
                // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞–∫—Ü–∏–∏
                const index = promotions.findIndex(p => p.id === parseInt(id));
                if (index !== -1) {
                    promotions[index] = { id, title, description, image, date };
                }
            } else {
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∞–∫—Ü–∏–∏
                promotions.push({ id, title, description, image, date });
            }

            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–∫—Ü–∏–∏
            console.log('–ê–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:', { id, title, description, image, date });

            promotionModal.style.display = 'none';
            renderPromotions();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            // –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É —Ä–µ–∂–∏–º–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            if (!userIsManager) {
                managerModeToggle.style.display = 'none';
                console.log('Manager mode hidden - user is not a manager');
            } else {
                console.log('Manager mode available - user is a manager');
            }
            
            renderPromotions();
        });

        // –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞–∑–∞–¥
        function goBack() {
            console.log('üîô –í–æ–∑–≤—Ä–∞—Ç –Ω–∞–∑–∞–¥');
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = 'index.html';
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function handleImageLoad(img) {
            if (img && img.classList) {
                img.classList.remove("loading");
            }
        }
        
        function handleImageError(img, fallbackText) {
            if (img) {
                img.style.display = "none";
                const fallback = img.nextElementSibling;
                if (fallback && fallback.classList.contains("image-fallback")) {
                    fallback.style.display = "flex";
                    fallback.textContent = fallbackText;
                }
            }
        }
    </script>

    <!-- SVG Stylized Back Button -->
    <button class="svg-back-button show" onclick="goBack()" aria-label="–ù–∞–∑–∞–¥">
        <img src="img/back_button.svg" alt="–ù–∞–∑–∞–¥" class="back-button-svg" 
             onerror="handleImageError(this, '–ù–∞–∑–∞–¥')" 
             onload="handleImageLoad(this)">
    </button>
</body>

</html>